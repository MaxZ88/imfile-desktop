x64:
  firstOrDefaultFilePatterns:
    - '!**/node_modules'
    - '!build{,/**/*}'
    - '!release{,/**/*}'
    - dist/electron/**/*
    - package.json
    - '!**/*.{iml,hprof,orig,pyc,pyo,rbc,swp,csproj,sln,suo,xproj,cc,d.ts,mk,a,o,forge-meta,pdb}'
    - '!**/._*'
    - '!**/electron-builder.{yaml,yml,json,json5,toml,ts}'
    - '!**/{.git,.hg,.svn,CVS,RCS,SCCS,__pycache__,.DS_Store,thumbs.db,.gitignore,.gitkeep,.gitattributes,.npmignore,.idea,.vs,.flowconfig,.jshintrc,.eslintrc,.circleci,.yarn-integrity,.yarn-metadata.json,yarn-error.log,yarn.lock,package-lock.json,npm-debug.log,appveyor.yml,.travis.yml,circle.yml,.nyc_output,.husky,.github,electron-builder.env}'
    - '!.yarn{,/**/*}'
    - '!.editorconfig'
    - '!.yarnrc.yml'
  nodeModuleFilePatterns:
    - '**/*'
    - dist/electron/**/*
appx:
  mapping: "[Files]\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\LICENSE.electron.txt\" \"app\\LICENSE.electron.txt\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\LICENSES.chromium.html\" \"app\\LICENSES.chromium.html\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\chrome_100_percent.pak\" \"app\\chrome_100_percent.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\chrome_200_percent.pak\" \"app\\chrome_200_percent.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\d3dcompiler_47.dll\" \"app\\d3dcompiler_47.dll\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\ffmpeg.dll\" \"app\\ffmpeg.dll\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\icudtl.dat\" \"app\\icudtl.dat\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\imFile.exe\" \"app\\imFile.exe\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\libEGL.dll\" \"app\\libEGL.dll\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\libGLESv2.dll\" \"app\\libGLESv2.dll\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\resources.pak\" \"app\\resources.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\snapshot_blob.bin\" \"app\\snapshot_blob.bin\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\v8_context_snapshot.bin\" \"app\\v8_context_snapshot.bin\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\vk_swiftshader.dll\" \"app\\vk_swiftshader.dll\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\vk_swiftshader_icd.json\" \"app\\vk_swiftshader_icd.json\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\vulkan-1.dll\" \"app\\vulkan-1.dll\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\resources\\app-update.yml\" \"app\\resources\\app-update.yml\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\resources\\app.asar\" \"app\\resources\\app.asar\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\resources\\engine\\aria2.conf\" \"app\\resources\\engine\\aria2.conf\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\resources\\engine\\aria2c.exe\" \"app\\resources\\engine\\aria2c.exe\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\af.pak\" \"app\\locales\\af.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\am.pak\" \"app\\locales\\am.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\ar.pak\" \"app\\locales\\ar.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\bg.pak\" \"app\\locales\\bg.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\bn.pak\" \"app\\locales\\bn.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\ca.pak\" \"app\\locales\\ca.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\cs.pak\" \"app\\locales\\cs.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\da.pak\" \"app\\locales\\da.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\de.pak\" \"app\\locales\\de.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\el.pak\" \"app\\locales\\el.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\en-GB.pak\" \"app\\locales\\en-GB.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\en-US.pak\" \"app\\locales\\en-US.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\es-419.pak\" \"app\\locales\\es-419.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\es.pak\" \"app\\locales\\es.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\et.pak\" \"app\\locales\\et.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\fa.pak\" \"app\\locales\\fa.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\fi.pak\" \"app\\locales\\fi.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\fil.pak\" \"app\\locales\\fil.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\fr.pak\" \"app\\locales\\fr.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\gu.pak\" \"app\\locales\\gu.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\he.pak\" \"app\\locales\\he.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\hi.pak\" \"app\\locales\\hi.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\hr.pak\" \"app\\locales\\hr.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\hu.pak\" \"app\\locales\\hu.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\id.pak\" \"app\\locales\\id.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\it.pak\" \"app\\locales\\it.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\ja.pak\" \"app\\locales\\ja.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\kn.pak\" \"app\\locales\\kn.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\ko.pak\" \"app\\locales\\ko.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\lt.pak\" \"app\\locales\\lt.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\lv.pak\" \"app\\locales\\lv.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\ml.pak\" \"app\\locales\\ml.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\mr.pak\" \"app\\locales\\mr.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\ms.pak\" \"app\\locales\\ms.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\nb.pak\" \"app\\locales\\nb.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\nl.pak\" \"app\\locales\\nl.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\pl.pak\" \"app\\locales\\pl.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\pt-BR.pak\" \"app\\locales\\pt-BR.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\pt-PT.pak\" \"app\\locales\\pt-PT.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\ro.pak\" \"app\\locales\\ro.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\ru.pak\" \"app\\locales\\ru.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\sk.pak\" \"app\\locales\\sk.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\sl.pak\" \"app\\locales\\sl.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\sr.pak\" \"app\\locales\\sr.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\sv.pak\" \"app\\locales\\sv.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\sw.pak\" \"app\\locales\\sw.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\ta.pak\" \"app\\locales\\ta.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\te.pak\" \"app\\locales\\te.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\th.pak\" \"app\\locales\\th.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\tr.pak\" \"app\\locales\\tr.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\uk.pak\" \"app\\locales\\uk.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\ur.pak\" \"app\\locales\\ur.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\vi.pak\" \"app\\locales\\vi.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\zh-CN.pak\" \"app\\locales\\zh-CN.pak\"\r\n\"D:\\Projects\\imfile-desktop\\release\\win-unpacked\\locales\\zh-TW.pak\" \"app\\locales\\zh-TW.pak\"\r\n\"D:\\Projects\\imfile-desktop\\build\\appx\\Square150x150Logo.png\" \"assets\\Square150x150Logo.png\"\r\n\"D:\\Projects\\imfile-desktop\\build\\appx\\Square44x44Logo.png\" \"assets\\Square44x44Logo.png\"\r\n\"D:\\Projects\\imfile-desktop\\build\\appx\\StoreLogo.png\" \"assets\\StoreLogo.png\"\r\n\"D:\\Projects\\imfile-desktop\\build\\appx\\Wide310x150Logo.png\" \"assets\\Wide310x150Logo.png\"\r\n\"D:\\Projects\\imfile-desktop\\release\\__appx-x64\\AppxManifest.xml\" \"AppxManifest.xml\""
nsis:
  script: "!include \"D:\\Projects\\imfile-desktop\\node_modules\\app-builder-lib\\templates\\nsis\\include\\StdUtils.nsh\"\n!addincludedir \"D:\\Projects\\imfile-desktop\\node_modules\\app-builder-lib\\templates\\nsis\\include\"\n!macro _isUpdated _a _b _t _f\n  ${StdUtils.TestParameter} $R9 \"updated\"\n  StrCmp \"$R9\" \"true\" `${_t}` `${_f}`\n!macroend\n!define isUpdated `\"\" isUpdated \"\"`\n\n!macro _isForceRun _a _b _t _f\n  ${StdUtils.TestParameter} $R9 \"force-run\"\n  StrCmp \"$R9\" \"true\" `${_t}` `${_f}`\n!macroend\n!define isForceRun `\"\" isForceRun \"\"`\n\n!macro _isKeepShortcuts _a _b _t _f\n  ${StdUtils.TestParameter} $R9 \"keep-shortcuts\"\n  StrCmp \"$R9\" \"true\" `${_t}` `${_f}`\n!macroend\n!define isKeepShortcuts `\"\" isKeepShortcuts \"\"`\n\n!macro _isNoDesktopShortcut _a _b _t _f\n  ${StdUtils.TestParameter} $R9 \"no-desktop-shortcut\"\n  StrCmp \"$R9\" \"true\" `${_t}` `${_f}`\n!macroend\n!define isNoDesktopShortcut `\"\" isNoDesktopShortcut \"\"`\n\n!macro _isDeleteAppData _a _b _t _f\n  ${StdUtils.TestParameter} $R9 \"delete-app-data\"\n  StrCmp \"$R9\" \"true\" `${_t}` `${_f}`\n!macroend\n!define isDeleteAppData `\"\" isDeleteAppData \"\"`\n\n!macro _isForAllUsers _a _b _t _f\n  ${StdUtils.TestParameter} $R9 \"allusers\"\n  StrCmp \"$R9\" \"true\" `${_t}` `${_f}`\n!macroend\n!define isForAllUsers `\"\" isForAllUsers \"\"`\n\n!macro _isForCurrentUser _a _b _t _f\n  ${StdUtils.TestParameter} $R9 \"currentuser\"\n  StrCmp \"$R9\" \"true\" `${_t}` `${_f}`\n!macroend\n!define isForCurrentUser `\"\" isForCurrentUser \"\"`\n\n!macro addLangs\n  !insertmacro MUI_LANGUAGE \"English\"\n  !insertmacro MUI_LANGUAGE \"German\"\n  !insertmacro MUI_LANGUAGE \"French\"\n  !insertmacro MUI_LANGUAGE \"SpanishInternational\"\n  !insertmacro MUI_LANGUAGE \"SimpChinese\"\n  !insertmacro MUI_LANGUAGE \"TradChinese\"\n  !insertmacro MUI_LANGUAGE \"Japanese\"\n  !insertmacro MUI_LANGUAGE \"Korean\"\n  !insertmacro MUI_LANGUAGE \"Italian\"\n  !insertmacro MUI_LANGUAGE \"Dutch\"\n  !insertmacro MUI_LANGUAGE \"Danish\"\n  !insertmacro MUI_LANGUAGE \"Swedish\"\n  !insertmacro MUI_LANGUAGE \"Norwegian\"\n  !insertmacro MUI_LANGUAGE \"Finnish\"\n  !insertmacro MUI_LANGUAGE \"Russian\"\n  !insertmacro MUI_LANGUAGE \"Portuguese\"\n  !insertmacro MUI_LANGUAGE \"PortugueseBR\"\n  !insertmacro MUI_LANGUAGE \"Polish\"\n  !insertmacro MUI_LANGUAGE \"Ukrainian\"\n  !insertmacro MUI_LANGUAGE \"Czech\"\n  !insertmacro MUI_LANGUAGE \"Slovak\"\n  !insertmacro MUI_LANGUAGE \"Hungarian\"\n  !insertmacro MUI_LANGUAGE \"Arabic\"\n  !insertmacro MUI_LANGUAGE \"Turkish\"\n  !insertmacro MUI_LANGUAGE \"Thai\"\n  !insertmacro MUI_LANGUAGE \"Vietnamese\"\n!macroend\n\n!addplugindir /x86-unicode \"C:\\Users\\Administrator\\AppData\\Local\\electron-builder\\Cache\\nsis\\nsis-resources-3.4.1\\plugins\\x86-unicode\"\n!include \"C:\\Users\\ADMINI~1\\AppData\\Local\\Temp\\t-8L7eA0\\2-messages.nsh\"\n\n!include \"common.nsh\"\n!include \"extractAppPackage.nsh\"\n\n# https://github.com/electron-userland/electron-builder/issues/3972#issuecomment-505171582\nCRCCheck off\nWindowIcon Off\nAutoCloseWindow True\nRequestExecutionLevel ${REQUEST_EXECUTION_LEVEL}\n\nFunction .onInit\n  !ifndef SPLASH_IMAGE\n    SetSilent silent\n  !endif\n\n  !insertmacro check64BitAndSetRegView\nFunctionEnd\n\nFunction .onGUIInit\n  InitPluginsDir\n\n  !ifdef SPLASH_IMAGE\n    File /oname=$PLUGINSDIR\\splash.bmp \"${SPLASH_IMAGE}\"\n    BgImage::SetBg $PLUGINSDIR\\splash.bmp\n    BgImage::Redraw\n  !endif\nFunctionEnd\n\nSection\n  !ifdef SPLASH_IMAGE\n    HideWindow\n  !endif\n\n  StrCpy $INSTDIR \"$PLUGINSDIR\\app\"\n  !ifdef UNPACK_DIR_NAME\n    StrCpy $INSTDIR \"$TEMP\\${UNPACK_DIR_NAME}\"\n  !endif\n\n  RMDir /r $INSTDIR\n  SetOutPath $INSTDIR\n\n  !ifdef APP_DIR_64\n    !ifdef APP_DIR_ARM64\n      !ifdef APP_DIR_32\n        ${if} ${IsNativeARM64}\n          File /r \"${APP_DIR_ARM64}\\*.*\"\n        ${elseif} ${RunningX64}\n          File /r \"${APP_DIR_64}\\*.*\"\n        ${else}\n          File /r \"${APP_DIR_32}\\*.*\"\n        ${endIf}\n      !else\n        ${if} ${IsNativeARM64}\n          File /r \"${APP_DIR_ARM64}\\*.*\"\n        ${else}\n          File /r \"${APP_DIR_64}\\*.*\"\n        {endIf}\n      !endif\n    !else\n      !ifdef APP_DIR_32\n        ${if} ${RunningX64}\n          File /r \"${APP_DIR_64}\\*.*\"\n        ${else}\n          File /r \"${APP_DIR_32}\\*.*\"\n        ${endIf}\n      !else\n        File /r \"${APP_DIR_64}\\*.*\"\n      !endif\n    !endif\n  !else\n    !ifdef APP_DIR_32\n      File /r \"${APP_DIR_32}\\*.*\"\n    !else\n      !insertmacro extractEmbeddedAppPackage\n    !endif\n  !endif\n\n  System::Call 'Kernel32::SetEnvironmentVariable(t, t)i (\"PORTABLE_EXECUTABLE_DIR\", \"$EXEDIR\").r0'\n  System::Call 'Kernel32::SetEnvironmentVariable(t, t)i (\"PORTABLE_EXECUTABLE_FILE\", \"$EXEPATH\").r0'\n  System::Call 'Kernel32::SetEnvironmentVariable(t, t)i (\"PORTABLE_EXECUTABLE_APP_FILENAME\", \"${APP_FILENAME}\").r0'\n  ${StdUtils.GetAllParameters} $R0 0\n\n  !ifdef SPLASH_IMAGE\n    BgImage::Destroy\n  !endif\n\n\tExecWait \"$INSTDIR\\${APP_EXECUTABLE_FILENAME} $R0\" $0\n  SetErrorLevel $0\n\n  SetOutPath $EXEDIR\n\tRMDir /r $INSTDIR\nSectionEnd\n"
